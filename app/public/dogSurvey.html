<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Survey for Doggos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
        crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <article class="container">
        <section class="row">
            <form class="col" id="form">
                <h2>Survey for Doggos and Puppers</h2>
                <section>
                    <h3>About You</h3>
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="name" class="form-control" id="name" placeholder="Name">
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="phone" class="form-control" id="phone" placeholder="(123)456-7890">
                    </div>
                    <div class="form-group">
                        <label for="imgUrl">Link to Image Photo</label>
                        <input type="imageLink" class="form-control" id="imgUrl" placeholder="image.com">
                    </div>
                </section>
                <!-- 10 Questions appended here -->
            </form>
        </section>
    </article>
    <footer>
        <p class="text-center mt-5">
            <a href="/api/fourLeggedFriendList">API Doggo List</a> |
            <a href="/api/humanFriendList">API Human List</a> |
            <a href="https://github.com/malmi003/Friend_Finder">GitHub Repo</a>
        </p>
    </footer>
    <script>
        let questions = ["Something1", "Something2", "Something3", "Something4", "Something5", "Something6", "Something7", "Something8", "Something8", "Something10"];
        let counter = 0;
        let radioHtml = "";

        questions.forEach((item, index) => {
            $("#form").append(`<section class="mt-3">
                    <h3>Question ${index + 1}</h3>
                    <h4>${item}</h4>`);
            for (i = 1; i < 6; i++) {
                $("#form").append(`<div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" id="customRadioInline${++counter}" name="customRadioInline${index + 1}" class="custom-control-input" value=${i}>
                    <label class="custom-control-label" for="customRadioInline${counter}">${i}</label>
                </div>`)
            };
            $("#form").append("</section>");
        });
        $("#form").append('<br><a class="btn btn-primary mt-4" href="/results/dogMatch" id="submit_btn" role="button">Submit</a>');

        $(document).ready(function () {
            $("#submit_btn").on("click", function () {
                // event.preventDefault();

                let newDog = {
                    name: $("#name").val().trim(),
                    phone: $("#phone").val().trim(),
                    imgUrl: $("#imgUrl").val().trim(),
                    score: [
                        $("input[name=customRadioInline1]:checked").val(),
                        $("input[name=customRadioInline2]:checked").val(),
                        $("input[name=customRadioInline3]:checked").val(),
                        $("input[name=customRadioInline4]:checked").val(),
                        $("input[name=customRadioInline5]:checked").val(),
                        $("input[name=customRadioInline6]:checked").val(),
                        $("input[name=customRadioInline7]:checked").val(),
                        $("input[name=customRadioInline8]:checked").val(),
                        $("input[name=customRadioInline9]:checked").val(),
                        $("input[name=customRadioInline10]:checked").val(),
                    ]
                };

                $.post("/api/fourLeggedFriendList", newDog).then(function (data) {
                    console.log(data);
                });
            });
        });
    </script>

    <!-- Bootstrap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>
</body>

</html>